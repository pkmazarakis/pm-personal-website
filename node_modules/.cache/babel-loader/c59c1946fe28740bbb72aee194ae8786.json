{"ast":null,"code":"var _jsxFileName = \"/Users/platonmazarakis/coding-projects/phineas.io/src/components/Nav.tsx\",\n    _s = $RefreshSig$();\n\nimport { motion } from 'framer-motion';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { GitHubLogo, KeyIcon, MenuIcon, NavigationIcon, TwitterLogo, XIcon } from './Icons';\nimport Doing from './Doing';\nimport useSound from 'use-sound';\nimport { useAtom } from 'jotai';\nimport { doingAtom } from '../state/lanyard';\nimport ContentLoader from 'react-content-loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pathnameOffsets = {\n  '/': 0,\n  '/where': 39,\n  '/how': 78,\n  '/etc': 117\n};\n\nconst Nav = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    pathname\n  } = useLocation();\n  const [playSwitchPageSound] = useSound('/p-static/sounds/switch-page.mp3');\n  const [dragYOffset, setDragYOffset] = useState(0);\n  const [openOnMobile, setOpenOnMobile] = useState(false);\n  const [presenceActive, setPresenceActive] = useState(false);\n  const [doing] = useAtom(doingAtom);\n  const dragConstraintsRef = useRef(null);\n  useEffect(() => {\n    if (openOnMobile) setOpenOnMobile(false);\n    playSwitchPageSound();\n  }, [pathname]);\n  const pageIndicatorOffset = useMemo(() => {\n    var _pathnameOffsets$path;\n\n    return pathname ? (_pathnameOffsets$path = pathnameOffsets[pathname]) !== null && _pathnameOffsets$path !== void 0 ? _pathnameOffsets$path : -180 : 0;\n  }, [pathname]);\n  const pageIndicatorOffsetWithDecoration = useMemo(() => 71 + 33 + pageIndicatorOffset - dragYOffset, [pageIndicatorOffset, dragYOffset]);\n  const onPageIndicatorDragEnd = useCallback((_event, info) => {\n    const goal = pageIndicatorOffset + info.offset.y;\n    const closest = Object.entries(pathnameOffsets).reduce(([prevPath, prevOffset], [curPath, curOffset]) => {\n      return Math.abs(curOffset - goal) < Math.abs(prevOffset - goal) ? [curPath, curOffset] : [prevPath, prevOffset];\n    });\n    if (closest[0] === pathname) return;\n    setDragYOffset(dragYOffset + info.offset.y + info.velocity.y);\n    history.push(closest[0]);\n  }, [history, pageIndicatorOffset, dragYOffset, pathname]);\n  const toggleMobileMenu = useCallback(() => setOpenOnMobile(!openOnMobile), [openOnMobile]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MobileHeader, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Phineas Walton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), openOnMobile ? /*#__PURE__*/_jsxDEV(XIcon, {\n        onClick: toggleMobileMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(MenuIcon, {\n        onClick: toggleMobileMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      openOnMobile: openOnMobile,\n      children: [!openOnMobile ? /*#__PURE__*/_jsxDEV(PageIndicator, {\n        whileHover: {\n          width: 3\n        },\n        drag: \"y\",\n        onDragEnd: onPageIndicatorDragEnd,\n        dragConstraints: dragConstraintsRef,\n        animate: {\n          top: pageIndicatorOffsetWithDecoration\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Items, {\n        children: [!openOnMobile ? /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            children: \"Phineas Walton\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Location, {\n            target: \"_blank\",\n            href: doing ? `https://www.google.com/maps/search/${encodeURIComponent(doing.kv.location)}` : undefined,\n            rel: \"noreferrer\",\n            children: [/*#__PURE__*/_jsxDEV(NavigationIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), (doing === null || doing === void 0 ? void 0 : doing.kv.location) ? doing.kv.location : /*#__PURE__*/_jsxDEV(ContentLoader, {\n              speed: 2 // width={\"auto\"}\n              ,\n              height: 19,\n              viewBox: \"0 0 160 25\",\n              backgroundColor: \"#121212\",\n              foregroundColor: \"#2e2e2e\",\n              children: /*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"0\",\n                y: \"3\",\n                rx: \"6\",\n                ry: \"6\",\n                width: \"160\",\n                height: \"19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: dragConstraintsRef,\n          children: [/*#__PURE__*/_jsxDEV(Page, {\n            active: pathname === '/' ? 1 : 0,\n            to: \"/\",\n            children: \"what I do\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Page, {\n            active: pathname === '/where' ? 1 : 0,\n            to: \"/where\",\n            children: \"where I've done it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Page, {\n            active: pathname === '/how' ? 1 : 0,\n            to: \"/how\",\n            children: \"how I do it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Page, {\n            active: pathname === '/etc' ? 1 : 0,\n            to: \"/etc\",\n            children: \"more + contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Icons, {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://twitter.com/phineyes\",\n            children: /*#__PURE__*/_jsxDEV(TwitterLogo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://github.com/phineas\",\n            children: /*#__PURE__*/_jsxDEV(GitHubLogo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://keybase.io/phineas\",\n            children: /*#__PURE__*/_jsxDEV(KeyIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Doing, {\n          style: {\n            display: presenceActive ? 'block' : 'none'\n          },\n          setActive: setPresenceActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Nav, \"fyErBFYzXdmMPJzQHBVYPcsoOQY=\", false, function () {\n  return [useHistory, useLocation, useSound, useAtom];\n});\n\n_c = Nav;\nconst Container = styled.aside`\n  display: inline-block;\n  box-sizing: border-box;\n  flex-direction: column;\n  padding: 2rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 15rem;\n  border-right: 1px solid #101010;\n  height: 100vh;\n\n  @media (max-width: 850px) {\n    display: ${({\n  openOnMobile\n}) => openOnMobile ? 'block' : 'none'};\n    background-color: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(7px);\n    z-index: 1;\n    top: 65px;\n    width: 100%;\n    height: calc(100% - 65px);\n  }\n`;\n_c2 = Container;\nconst MobileHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  display: flex;\n  padding: 2rem;\n  box-sizing: border-box;\n  width: 100%;\n  height: 65px;\n  background-color: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(5px);\n  border-bottom: 1px solid #101010;\n  flex-shrink: 0;\n  z-index: 1;\n\n  svg {\n    margin-left: auto;\n    cursor: pointer;\n    color: #ccc;\n  }\n\n  @media (min-width: 850px) {\n    display: none;\n  }\n`;\n_c3 = MobileHeader;\nconst PageIndicator = styled(motion.div)`\n  width: 1px;\n  height: 39px;\n  background-color: #fff;\n  position: absolute;\n  right: -1px;\n  cursor: pointer;\n`;\n_c4 = PageIndicator;\nconst Items = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n_c5 = Items;\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n`;\n_c6 = Row;\nconst Title = styled.div`\n  font-weight: 600;\n  padding: 10px 0px;\n`;\n_c7 = Title;\nconst Location = styled.a`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  height: 19px;\n  font-size: 14px;\n  margin-bottom: 15px;\n  user-select: none;\n\n  color: white;\n\n  &:hover {\n    color: rgba(255, 255, 255, 0.8);\n  }\n\n  svg:first-child {\n    height: 18px;\n    width: 18px;\n    margin-right: 10px;\n    color: #ff65b2;\n  }\n`;\n_c8 = Location;\nconst Page = styled(Link)`\n  color: ${({\n  active\n}) => active ? '#fff' : '#ccc'};\n  padding: 10px 0px;\n  display: flex;\n\n  &:hover {\n    /* background-color: #fff; */\n    color: #fff;\n  }\n`;\n_c9 = Page;\nconst Icons = styled.div`\n  margin-top: auto;\n  color: #ccc;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  padding: 1rem 0;\n\n  svg {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    color: #ccc;\n\n    &:hover {\n      color: #fff;\n    }\n  }\n`;\n_c10 = Icons;\nexport default Nav;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Nav\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"MobileHeader\");\n$RefreshReg$(_c4, \"PageIndicator\");\n$RefreshReg$(_c5, \"Items\");\n$RefreshReg$(_c6, \"Row\");\n$RefreshReg$(_c7, \"Title\");\n$RefreshReg$(_c8, \"Location\");\n$RefreshReg$(_c9, \"Page\");\n$RefreshReg$(_c10, \"Icons\");","map":{"version":3,"sources":["/Users/platonmazarakis/coding-projects/phineas.io/src/components/Nav.tsx"],"names":["motion","useCallback","useEffect","useMemo","useRef","useState","useHistory","useLocation","Link","styled","GitHubLogo","KeyIcon","MenuIcon","NavigationIcon","TwitterLogo","XIcon","Doing","useSound","useAtom","doingAtom","ContentLoader","pathnameOffsets","Nav","history","pathname","playSwitchPageSound","dragYOffset","setDragYOffset","openOnMobile","setOpenOnMobile","presenceActive","setPresenceActive","doing","dragConstraintsRef","pageIndicatorOffset","pageIndicatorOffsetWithDecoration","onPageIndicatorDragEnd","_event","info","goal","offset","y","closest","Object","entries","reduce","prevPath","prevOffset","curPath","curOffset","Math","abs","velocity","push","toggleMobileMenu","width","top","encodeURIComponent","kv","location","undefined","display","Container","aside","MobileHeader","div","PageIndicator","Items","Row","Title","Location","a","Page","active","Icons"],"mappings":"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AAH,GAAa;AAAtC,WADT;AAEE,UAAA,SAAS,EAAEC;AAFb;AAAA;AAAA;AAAA;AAAA,gBA3DF;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YATF;AAAA,kBADF;AAuFD,CA1ID;;GAAMT,G;UACYhB,U,EACKC,W,EAESU,Q,EAMdC,O;;;KAVZI,G;AA4IN,MAAMwC,SAAS,GAAGrD,MAAM,CAACsD,KAAiC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,CAAC;AAAEnC,EAAAA;AAAF,CAAD,KAAuBA,YAAY,GAAG,OAAH,GAAa,MAAQ;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CArBA;MAAMkC,S;AAuBN,MAAME,YAAY,GAAGvD,MAAM,CAACwD,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA1BA;MAAMD,Y;AA4BN,MAAME,aAAa,GAAGzD,MAAM,CAACT,MAAM,CAACiE,GAAR,CAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;MAAMC,a;AASN,MAAMC,KAAK,GAAG1D,MAAM,CAACwD,GAAI;AACzB;AACA;AACA;AACA,CAJA;MAAME,K;AAMN,MAAMC,GAAG,GAAG3D,MAAM,CAACwD,GAAI;AACvB;AACA;AACA;AACA;AACA,CALA;MAAMG,G;AAON,MAAMC,KAAK,GAAG5D,MAAM,CAACwD,GAAI;AACzB;AACA;AACA,CAHA;MAAMI,K;AAKN,MAAMC,QAAQ,GAAG7D,MAAM,CAAC8D,CAAE;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAtBA;MAAMD,Q;AAwBN,MAAME,IAAI,GAAG/D,MAAM,CAACD,IAAD,CAA2B;AAC9C,WAAW,CAAC;AAAEiE,EAAAA;AAAF,CAAD,KAAiBA,MAAM,GAAG,MAAH,GAAY,MAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;MAAMD,I;AAWN,MAAME,KAAK,GAAGjE,MAAM,CAACwD,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnBA;OAAMS,K;AAqBN,eAAepD,GAAf","sourcesContent":["import { motion, PanInfo } from 'framer-motion';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { GitHubLogo, KeyIcon, MenuIcon, NavigationIcon, TwitterLogo, XIcon } from './Icons';\nimport Doing from './Doing';\nimport useSound from 'use-sound';\nimport { useAtom } from 'jotai';\nimport { doingAtom } from '../state/lanyard';\nimport ContentLoader from 'react-content-loader';\n\nconst pathnameOffsets: { [key: string]: number } = {\n  '/': 0,\n  '/where': 39,\n  '/how': 78,\n  '/etc': 117,\n};\n\nconst Nav = () => {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const [playSwitchPageSound] = useSound('/p-static/sounds/switch-page.mp3');\n\n  const [dragYOffset, setDragYOffset] = useState(0);\n  const [openOnMobile, setOpenOnMobile] = useState(false);\n  const [presenceActive, setPresenceActive] = useState(false);\n\n  const [doing] = useAtom(doingAtom);\n\n  const dragConstraintsRef = useRef(null);\n\n  useEffect(() => {\n    if (openOnMobile) setOpenOnMobile(false);\n    playSwitchPageSound();\n  }, [pathname]);\n\n  const pageIndicatorOffset = useMemo(\n    () => (pathname ? pathnameOffsets[pathname] ?? -180 : 0),\n    [pathname]\n  );\n\n  const pageIndicatorOffsetWithDecoration = useMemo(\n    () => 71 + 33 + pageIndicatorOffset - dragYOffset,\n    [pageIndicatorOffset, dragYOffset]\n  );\n\n  const onPageIndicatorDragEnd = useCallback(\n    (_event, info: PanInfo) => {\n      const goal = pageIndicatorOffset + info.offset.y;\n\n      const closest = Object.entries(pathnameOffsets).reduce(\n        ([prevPath, prevOffset], [curPath, curOffset]) => {\n          return Math.abs(curOffset - goal) < Math.abs(prevOffset - goal)\n            ? [curPath, curOffset]\n            : [prevPath, prevOffset];\n        }\n      );\n\n      if (closest[0] === pathname) return;\n\n      setDragYOffset(dragYOffset + info.offset.y + info.velocity.y);\n      history.push(closest[0]);\n    },\n    [history, pageIndicatorOffset, dragYOffset, pathname]\n  );\n\n  const toggleMobileMenu = useCallback(() => setOpenOnMobile(!openOnMobile), [openOnMobile]);\n\n  return (\n    <>\n      <MobileHeader>\n        <Title>Phineas Walton</Title>\n        {openOnMobile ? (\n          <XIcon onClick={toggleMobileMenu} />\n        ) : (\n          <MenuIcon onClick={toggleMobileMenu} />\n        )}\n      </MobileHeader>\n      <Container openOnMobile={openOnMobile}>\n        {!openOnMobile ? (\n          <PageIndicator\n            whileHover={{ width: 3 }}\n            drag=\"y\"\n            onDragEnd={onPageIndicatorDragEnd}\n            dragConstraints={dragConstraintsRef}\n            animate={{ top: pageIndicatorOffsetWithDecoration }}\n          />\n        ) : null}\n        <Items>\n          {!openOnMobile ? (\n            <Row>\n              <Title>Phineas Walton</Title>\n              {/* <IconButton>\n              <ChevronDown />\n            </IconButton> */}\n            </Row>\n          ) : null}\n          <Row>\n            <Location\n              target=\"_blank\"\n              href={doing ? `https://www.google.com/maps/search/${encodeURIComponent(doing.kv.location)}` : undefined}\n              rel=\"noreferrer\"\n            >\n              <NavigationIcon />\n              {doing?.kv.location ? (\n                doing.kv.location\n              ) : (\n                <ContentLoader\n                  speed={2}\n                  // width={\"auto\"}\n                  height={19}\n                  viewBox=\"0 0 160 25\"\n                  backgroundColor=\"#121212\"\n                  foregroundColor=\"#2e2e2e\"\n                >\n                  <rect x=\"0\" y=\"3\" rx=\"6\" ry=\"6\" width=\"160\" height=\"19\" />\n                </ContentLoader>\n              )}\n            </Location>\n          </Row>\n\n          <div ref={dragConstraintsRef}>\n            <Page active={pathname === '/' ? 1 : 0} to=\"/\">\n              what I do\n            </Page>\n            <Page active={pathname === '/where' ? 1 : 0} to=\"/where\">\n              where I've done it\n            </Page>\n            <Page active={pathname === '/how' ? 1 : 0} to=\"/how\">\n              how I do it\n            </Page>\n            <Page active={pathname === '/etc' ? 1 : 0} to=\"/etc\">\n              more + contact\n            </Page>\n          </div>\n\n          <Icons>\n            <a href=\"https://twitter.com/phineyes\">\n              <TwitterLogo />\n            </a>\n            <a href=\"https://github.com/phineas\">\n              <GitHubLogo />\n            </a>\n            <a href=\"https://keybase.io/phineas\">\n              <KeyIcon />\n            </a>\n          </Icons>\n          <Doing\n            style={{ display: presenceActive ? 'block' : 'none' }}\n            setActive={setPresenceActive}\n          />\n        </Items>\n      </Container>\n    </>\n  );\n};\n\nconst Container = styled.aside<{ openOnMobile: boolean }>`\n  display: inline-block;\n  box-sizing: border-box;\n  flex-direction: column;\n  padding: 2rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 15rem;\n  border-right: 1px solid #101010;\n  height: 100vh;\n\n  @media (max-width: 850px) {\n    display: ${({ openOnMobile }) => (openOnMobile ? 'block' : 'none')};\n    background-color: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(7px);\n    z-index: 1;\n    top: 65px;\n    width: 100%;\n    height: calc(100% - 65px);\n  }\n`;\n\nconst MobileHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  display: flex;\n  padding: 2rem;\n  box-sizing: border-box;\n  width: 100%;\n  height: 65px;\n  background-color: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(5px);\n  border-bottom: 1px solid #101010;\n  flex-shrink: 0;\n  z-index: 1;\n\n  svg {\n    margin-left: auto;\n    cursor: pointer;\n    color: #ccc;\n  }\n\n  @media (min-width: 850px) {\n    display: none;\n  }\n`;\n\nconst PageIndicator = styled(motion.div)`\n  width: 1px;\n  height: 39px;\n  background-color: #fff;\n  position: absolute;\n  right: -1px;\n  cursor: pointer;\n`;\n\nconst Items = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Title = styled.div`\n  font-weight: 600;\n  padding: 10px 0px;\n`;\n\nconst Location = styled.a`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  height: 19px;\n  font-size: 14px;\n  margin-bottom: 15px;\n  user-select: none;\n\n  color: white;\n\n  &:hover {\n    color: rgba(255, 255, 255, 0.8);\n  }\n\n  svg:first-child {\n    height: 18px;\n    width: 18px;\n    margin-right: 10px;\n    color: #ff65b2;\n  }\n`;\n\nconst Page = styled(Link)<{ active: number }>`\n  color: ${({ active }) => (active ? '#fff' : '#ccc')};\n  padding: 10px 0px;\n  display: flex;\n\n  &:hover {\n    /* background-color: #fff; */\n    color: #fff;\n  }\n`;\n\nconst Icons = styled.div`\n  margin-top: auto;\n  color: #ccc;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  padding: 1rem 0;\n\n  svg {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    color: #ccc;\n\n    &:hover {\n      color: #fff;\n    }\n  }\n`;\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}